<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Cursor que se Rompe</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background: #1a1a1a;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: none;
    }

    button {
      background: #6e6e6e;
      color: white;
      font-size: 24px;
      padding: 30px 60px;
      border: none;
      border-radius: 10px;
      font-family: sans-serif;
      box-shadow: inset -4px -4px 10px #3d3d3d, inset 4px 4px 10px #9a9a9a;
      position: relative;
      text-shadow: 1px 1px 2px black;
    }
    button:hover {
      cursor:none;
    }

    #cursor-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 32px;
      height: 32px;
      pointer-events: none;
      z-index: 9999;
    }

    .cursor-piece {
      position: absolute;
      top: 0;
      left: 0;
      width: 32px;
      height: 32px;
      background-image: url('data:image/svg+xml;utf8,<svg fill="rgba(200,255,255,0.2)" stroke="white" stroke-width="1.5" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><polygon points="0,0 0,32 10,22 16,30 19,28 13,20 22,20"/></svg>');
      background-size: cover;
      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
      transition: transform 0.6s ease-out, opacity 0.6s;
    }

    .fall {
      transform: translateY(150px) rotate(30deg) scale(0.5);
      opacity: 0;
    }
  </style>
</head>
<body>
  <button id="stone-button">Click me!</button>
  <div id="cursor-container"></div>

  <script>
    const cursorContainer = document.getElementById('cursor-container');
    let pieces = [];

    // Crear 5 pedazos del cursor
    for (let i = 0; i < 5; i++) {
      const piece = document.createElement('div');
      piece.className = 'cursor-piece';
      piece.style.clipPath = getClip(i);
      cursorContainer.appendChild(piece);
      pieces.push(piece);
    }

    // Mover el cursor visual
    document.addEventListener('mousemove', e => {
      cursorContainer.style.top = e.clientY + 'px';
      cursorContainer.style.left = e.clientX + 'px';
    });

    let current = 0;

    document.getElementById('stone-button').addEventListener('click', () => {
      if (current < pieces.length) {
        pieces[current].classList.add('fall');
        current++;
      }
      if (current === pieces.length) {
        cursorContainer.remove();
      }
    });

    // Clip-paths para dividir el cursor SVG
    function getClip(index) {
      const clipParts = [
        'polygon(0 0, 50% 0, 50% 50%, 0 50%)',
        'polygon(50% 0, 100% 0, 100% 50%, 50% 50%)',
        'polygon(0 50%, 50% 50%, 50% 100%, 0 100%)',
        'polygon(50% 50%, 100% 50%, 100% 100%, 50% 100%)',
        'polygon(25% 25%, 75% 75%, 50% 100%, 25% 50%)'
      ];
      return clipParts[index];
    }
  </script>
</body>
</html>
